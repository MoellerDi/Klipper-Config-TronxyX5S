[gcode_macro COUNTDOWN]
#default_parameter_MSG: "Time: "
#default_parameter_TIME: 10
gcode:
  {% set MSG = params.MSG|default("Time: ") %}
  {% set TIME = params.TIME|default(10)|int %}

  # countdown 
  {% for s in range(TIME|int, 0, -1) %}
      # dwell 1 second
      G4 P1000
      # echo
      M117 {params.MSG} {s}s
      M118 {params.MSG} {s}s
  {% endfor %}