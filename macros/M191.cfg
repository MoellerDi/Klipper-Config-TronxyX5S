[gcode_macro M191]
description: Wait for Chamber Temperature
variable_temperature: 0
gcode:
  {% set target = params.S|default(0)|float %}
  SET_GCODE_VARIABLE MACRO=M191 VARIABLE=temperature VALUE={target}  #to read back: {% set chamber = printer["gcode_macro M191"].temperature %}
  SET_HEATER_TEMPERATURE HEATER=heater_chamber TARGET={target}
  #FEEDBACK LCD=0 MSG="Wait for Chamber Temperature to be at {target}C"

  #TEMPERATURE_WAIT SENSOR=heater_chamber MINIMUM={target}
  #FEEDBACK LCD=0 MSG="Alright, Chamber Temperature is at {target}C; going ahead"