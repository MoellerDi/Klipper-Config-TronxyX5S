# This file contains common pin mappings for the BigTreeTech SKR PRO.
# To use this config, the firmware should be compiled for the
# STM32F407 with a "32KiB bootloader".

# The "make flash" command does not work on the SKR PRO. Instead,
# after running "make", copy the generated "out/klipper.bin" file to a
# file named "firmware.bin" on an SD card and then restart the SKR PRO
# with that SD card.

# Some assumptions:
# MOTOR0 -> X
# MOTOR1 -> Y
# MOTOR2 -> Z
# MOTOR3 -> E
# MOTOR4 -> E1
# MOTOR5 -> Z1

# EXP must be turned 180° when compared to the default RAMPS layout.
# The aliases below are 180° turned from what Fysetc considers pin 1,
# but visually correspond to the plugs on the board.

[board_pins skrpro]
mcu: skrpro
aliases:
    # EXP1 header
    EXP1_1=PG4, EXP1_3=PD11, EXP1_5=PG2, EXP1_7=PG6, EXP1_9=<GND>, 
    EXP1_2=PA8, EXP1_4=PD10, EXP1_6=PG3, EXP1_8=PG7, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PB14, EXP2_3=PG10, EXP2_5=PF11, EXP2_7=PF12,  EXP2_9=<GND>,
    EXP2_2=PB13, EXP2_4=PB12, EXP2_6=PB15, EXP2_8=<RST>, EXP2_10=PF13,

    # Motors
    X_STEP=PE9,
    X_DIR=PF1,
    X_CS=PA15,
    X_EN=PF2,
    X_DIAG1=PB10,

    Y_STEP=PE11,
    Y_DIR=PE8,
    Y_CS=PB8,
    Y_EN=PD7,
    Y_DIAG1=PE12,

    Z_STEP=PE13,
    Z_DIR=PC2,
    Z_CS=PB9,
    Z_EN=PC0,
    Z_DIAG1=PG8,

    E_STEP=PE14,
    E_DIR=PA0,
    E_CS=PB3,
    E_EN=PC3,
    E_DIAG1=PE15,

    E1_STEP=PD15,
    E1_DIR=PE7,
    E1_CS=PG15,
    E1_EN=PA3,
    E1_DIAG1=PE10,

    Z1_STEP=PD13,
    Z1_DIR=PG9,
    Z1_CS=PG12,
    Z1_EN=PF0,
    Z1_DIAG1=PG5,

    # Limit switches
    X_STOP=PB10,
    Y_STOP=PE12,
    E_STOP=PG8,
    Z_STOP=PE15,
    Z1_STOP=PE10,
    Z2_STOP=PG5,

    # Heaters
    HE0=PB1,
    HE1=PD14,
    HE2=PB0,
    BED=PD12,

    # Thermistors
    TB=PF3,
    T0=PF3,
    T1=PF4,
    T2=PF5,
    T3=PF6,

    # Fans
    FAN0=PC8,
    FAN1=PE5,
    FAN2=PE6,

    # Sensor
    #SENSOR=PB7,

    # BLTouch
    BLT_PROBE=PA2,
    BLT_SERVO=PA1

    # TFT
    #TFT_RX=PA10,
    #TFT_TX=PA9,

    # CAN bus
    #CAN_RX=PD0,
    #CAN_TX=PD1
